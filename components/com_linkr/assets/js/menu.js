
var MIOpts={title:'Menus',objName:'LinkrMenu',initialize:function(){this.options.title=this._('MENUS')}};var MITree=[];var MISrch={sql:{type:'SELECT id, name, link, type, params FROM #__menu WHERE published = 1 AND parent = 0 AND menutype = [query] AND access <= [access]',menu:'SELECT id, name, link, type, params FROM #__menu WHERE published = 1 AND parent = [query] AND access <= [access]'}};var MITmpl={setupTree:function(r,l){if($type(r)!='array')return;var is={};ty=l==0?'type':'menu';r.each(function(i){var t=$pick(i.title,$pick(i.name,'??'));t=Linkr.urldecode(Linkr.UTF8.Decode(t));var d=$pick(i.description,'');d=Linkr.urldecode(Linkr.UTF8.Decode(d));var u=$pick(i.link,false);if(u){if(i.params.contains('secure=1'))u=Linkr.sslSiteRoot+u;if(i.type!='url')u+='&Itemid='+i.id}is[i.id]={title:t,description:d,url:u,level:l,children:[ty,i.id]}});return is}};